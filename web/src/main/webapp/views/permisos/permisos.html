<div layout="column">
    <md-content flex md-scroll-y layout-fill flex-gt-sm="90" flex-gt-xs="90" class="md-main-content">
        <div layout="column" layout-fill layout-padding>
            <div>
                <div layout="row" layout-align="center center">
                    <md-card flex-gt-sm>
                        <form name="form" novalidate ng-submit="vm.save(form)">
                            <md-toolbar class="md-accent">
                                <div class="md-toolbar-tools">
                                    <span>Administrar permisos</span>
                                </div>
                            </md-toolbar>
                            <md-card-content>
                                <ng-include ng-if="vm.validationErrorFromServer.error"
                                            src="'views/validation-error.html'"></ng-include>
                                <div layout-gt-sm="row" layout-margin>
                                    <div flex-gt-sm="25" layout="column" layout-align="center center">
                                        <md-list>
                                            <md-subheader class="md-no-sticky">Roles</md-subheader>
                                            <md-list-item ng-class="{'selected-menu-item': rol.id === vm.selectedRol.id}" ng-click="vm.clickRol(rol, $index)" ng-repeat="rol in vm.data.roles">
                                                <p>{{rol.nombre.nombre}}</p>
                                                <md-divider></md-divider>
                                            </md-list-item>
                                        </md-list>
                                    </div>
                                    <div flex-gt-sm="75" layout="column" layout-margin>
                                        <fieldset class="standard" name="roles">
                                            <legend>Funcionalidades</legend>
                                            <div layout="row" layout-wrap flex>
                                                <div flex="50" ng-repeat="funcionalidad in vm.data.funcionalidades">
                                                    <md-checkbox ng-change="vm.clickFuncionalidad(funcionalidad)" ng-model="funcionalidad.selected">
                                                        <span>{{ funcionalidad.nombre }}</span>
                                                    </md-checkbox>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                            </md-card-content>
                            <md-card-actions layout="row" layout-align="end center">
                                <md-button ng-click="vm.cancelar()">Cancelar</md-button>
                                <md-button type="submit" class="md-raised md-primary">Aceptar</md-button>
                            </md-card-actions>
                        </form>
                    </md-card>
                </div>
            </div>
        </div>
    </md-content>
</div>